<!DOCTYPE html>
<html lang="pt-BR" class="light">
<head>
    <meta charset="UTF-8">
    <!-- ATUALIZAÇÃO: interactive-widget=resizes-content ajuda o layout a reagir ao teclado virtual -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=resizes-content">
    <title>Atomic Games e Informática - Site Oficial</title>
    
    <!-- Canonical Tag (SEO) -->
    <link rel="canonical" href="https://atomicgames.com.br">

    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>
    
    <!-- FAVICON -->
    <link rel="icon" type="image/webp" href="https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/atomiclogo.webp">
    
    <!-- SEO & Meta -->
    <meta name="description" content="Atomic Games - A melhor loja de games e assistência técnica de Madureira, RJ. Consoles, jogos, acessórios e reparos especializados.">
    <meta name="theme-color" content="#FFD700">
    <meta property="og:title" content="Atomic Games e Informática - Site Oficial">
    <meta property="og:description" content="A melhor loja de games e assistência técnica de Madureira, RJ.">
    <meta property="og:image" content="https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/atomiclogo.webp">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="pt_BR">

    <!-- Schema.org (JSON-LD) - Local Business -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ElectronicsStore",
      "name": "Atomic Games e Informática",
      "image": "https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/atomiclogo.webp",
      "description": "A melhor loja de games e assistência técnica de Madureira, RJ. Especializada em PlayStation, Xbox, Nintendo e PC Gamer.",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Av. Ministro Edgard Romero, 81, Loja 3",
        "addressLocality": "Rio de Janeiro",
        "addressRegion": "RJ",
        "addressCountry": "BR"
      },
      "openingHoursSpecification": [
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
          "opens": "09:00",
          "closes": "19:00"
        },
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": "Saturday",
          "opens": "09:00",
          "closes": "14:00"
        }
      ],
      "priceRange": "$$",
      "telephone": "+5521995969378",
      "url": "https://atomicgames.com.br"
    }
    </script>
    
    <!-- Preload Critical Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@500;600;700&display=swap" as="style">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    
    <!-- Scripts Externos (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        gold: '#FFD700',
                        'gold-dark': '#E6C200',
                        orange: '#FF8C00',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <style>
        /* === CORE SETTINGS === */
        :root {
            --gold: #FFD700;
            --gold-dark: #E6C200;
            --orange: #FF8C00;
            --gradient-gold: linear-gradient(135deg, #FFD700 0%, #FF8C00 50%, #FFD700 100%);
            --gradient-aurora: linear-gradient(135deg, #FFD700 0%, #FF6B35 25%, #F7931E 50%, #FFD700 75%, #FFA500 100%);
            --glass-light: rgba(255, 255, 255, 0.7);
            --glass-dark: rgba(17, 24, 39, 0.7);
            --blur: 20px;
            --noise: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)'/%3E%3C/svg%3E");

            /* Z-Index Architecture */
            --z-negative: -1;
            --z-base: 1;
            --z-nav: 50;
            --z-overlay: 90;
            --z-menu: 95;
            --z-modal: 100;
            --z-toast: 200;
            --z-chat-widget: 999;
            --z-skip-link: 10000;
        }
        
        * { box-sizing: border-box; }
        
        html { 
            scroll-behavior: smooth;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            /* PERFORMANCE: Remove delay de 300ms no touch */
            touch-action: manipulation; 
        }
        
        body { 
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            overflow-x: hidden; 
            line-height: 1.6;
            min-height: 100vh;
            min-height: 100dvh; /* Mobile Moderno */
        }

        body.chat-open {
            overflow: hidden !important;
            overscroll-behavior: none;
        }
        
        h1, h2, h3, h4, .brand-font { 
            font-family: 'Space Grotesk', sans-serif;
            letter-spacing: -0.03em;
            line-height: 1.1;
        }

        /* Skip Link */
        .skip-link {
            position: absolute;
            top: -100%;
            left: 50%;
            transform: translateX(-50%);
            background: #FFD700;
            color: #000;
            padding: 1rem 2rem;
            border-radius: 0 0 1rem 1rem;
            font-weight: 700;
            z-index: var(--z-skip-link);
            transition: top 0.3s;
        }
        .skip-link:focus { top: 0; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { 
            background: linear-gradient(180deg, #FFD700, #FF8C00);
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover { background: #FFD700; }
        
        /* Mobile Horizontal Scroll Snapping */
        .snap-x { scroll-snap-type: x mandatory; }
        .snap-center { scroll-snap-align: center; }

        /* === THEMES === */
        .light .bg-base { background: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%); }
        .light .bg-card { background: rgba(255, 255, 255, 0.8); }
        .light .bg-card-solid { background: #ffffff; }
        .light .text-base { color: #0f172a; }
        .light .text-muted { color: #64748b; }
        .light .border-base { border-color: rgba(226, 232, 240, 0.8); }
        .light .glass { 
            background: var(--glass-light);
            backdrop-filter: blur(var(--blur)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur)) saturate(180%);
        }

        .dark .bg-base { background: linear-gradient(180deg, #030712 0%, #0f172a 100%); }
        .dark .bg-card { background: rgba(15, 23, 42, 0.8); }
        .dark .bg-card-solid { background: #111827; }
        .dark .text-base { color: #f1f5f9; }
        .dark .text-muted { color: #94a3b8; }
        .dark .border-base { border-color: rgba(51, 65, 85, 0.5); }
        .dark .glass { 
            background: var(--glass-dark);
            backdrop-filter: blur(var(--blur)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur)) saturate(180%);
        }
        
        .dark select option { background-color: #111827; color: #f1f5f9; }

        /* === ANIMATIONS & EFFECTS === */
        .mesh-gradient {
            position: fixed;
            inset: 0;
            z-index: var(--z-negative);
            opacity: 0.4;
            pointer-events: none;
            contain: strict;
        }
        .mesh-gradient::before, .mesh-gradient::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            will-change: transform;
        }
        .mesh-gradient::before {
            width: 50vw; height: 50vw; max-width: 600px; max-height: 600px;
            background: radial-gradient(circle, rgba(255,215,0,0.3) 0%, transparent 70%);
            top: -10%; right: -10%;
            animation: float-slow 20s ease-in-out infinite;
        }
        .mesh-gradient::after {
            width: 40vw; height: 40vw; max-width: 500px; max-height: 500px;
            background: radial-gradient(circle, rgba(255,140,0,0.2) 0%, transparent 70%);
            bottom: 10%; left: -10%;
            animation: float-slow 25s ease-in-out infinite reverse;
        }
        
        @keyframes float-slow {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -30px) scale(1.05); }
            66% { transform: translate(-20px, 20px) scale(0.95); }
        }

        .text-gradient {
            background: var(--gradient-aurora);
            background-size: 300% auto;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: aurora-flow 4s ease infinite;
        }
        @keyframes aurora-flow {
            0%, 100% { background-position: 0% center; }
            50% { background-position: 100% center; }
        }

        .glow-gold { box-shadow: 0 0 20px rgba(255, 215, 0, 0.3), 0 0 40px rgba(255, 215, 0, 0.1), 0 0 60px rgba(255, 215, 0, 0.05); }
        .glow-gold-intense { box-shadow: 0 0 30px rgba(255, 215, 0, 0.5), 0 0 60px rgba(255, 215, 0, 0.3), 0 0 100px rgba(255, 215, 0, 0.1); }

        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            will-change: opacity, transform;
        }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        
        .reveal-scale {
            opacity: 0; transform: scale(0.9);
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            will-change: opacity, transform;
        }
        .reveal-scale.visible { opacity: 1; transform: scale(1); }

        @keyframes float { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-15px) rotate(1deg); } }
        .float { animation: float 6s ease-in-out infinite; }

        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7), 0 4px 20px rgba(255, 215, 0, 0.3); }
            50% { box-shadow: 0 0 30px 10px rgba(255, 215, 0, 0.3), 0 4px 30px rgba(255, 215, 0, 0.5); }
        }
        .pulse-glow { animation: pulse-glow 2.5s ease-in-out infinite; }
        
        @keyframes icon-bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        .icon-bounce { animation: icon-bounce 2s ease-in-out infinite; }

        /* === COMPONENTS === */
        /* Buttons */
        .btn-primary {
            position: relative;
            background: var(--gradient-gold);
            background-size: 200% auto;
            color: #000;
            font-weight: 800;
            padding: 1rem 2rem;
            border-radius: 9999px;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.4);
        }
        .btn-primary::before {
            content: ''; position: absolute; inset: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.4) 50%, transparent 70%);
            transform: translateX(-100%); transition: transform 0.6s;
        }
        .btn-primary:hover::before { transform: translateX(100%); }
        .btn-primary:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 8px 30px rgba(255, 215, 0, 0.5); background-position: right center; }
        .btn-primary:active { transform: translateY(0) scale(0.98); }

        .btn-secondary {
            position: relative;
            background: transparent;
            font-weight: 700;
            padding: 1rem 2rem;
            border-radius: 9999px;
            border: 2px solid rgba(255, 215, 0, 0.5);
            transition: all 0.3s;
            overflow: hidden;
        }
        .btn-secondary::before {
            content: ''; position: absolute; inset: 0;
            background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,140,0,0.1));
            opacity: 0; transition: opacity 0.3s;
        }
        .btn-secondary:hover::before { opacity: 1; }
        .btn-secondary:hover { border-color: #FFD700; transform: translateY(-2px); box-shadow: 0 4px 20px rgba(255, 215, 0, 0.2); }

        /* Cards */
        .bento-card {
            position: relative;
            background: var(--glass-light);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            contain: layout style;
        }
        .dark .bento-card { background: var(--glass-dark); border-color: rgba(255, 255, 255, 0.1); }
        .bento-card:hover {
            transform: translateY(-8px) scale(1.01);
            border-color: rgba(255, 215, 0, 0.3);
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.15), 0 0 30px rgba(255, 215, 0, 0.1);
        }

        .product-card {
            position: relative;
            border-radius: 24px;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            contain: layout style paint;
        }
        .product-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 30px 60px -15px rgba(0,0,0,0.25), 0 0 40px rgba(255, 215, 0, 0.15);
        }

        .product-img-box {
            position: relative; height: 220px;
            display: flex; align-items: center; justify-content: center;
            padding: 24px; overflow: hidden;
        }
        .light .product-img-box { background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%); }
        .dark .product-img-box { background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%); }
        .product-img-box img {
            max-height: 100%; max-width: 100%; object-fit: contain;
            transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            filter: drop-shadow(0 10px 30px rgba(0,0,0,0.15));
            cursor: pointer;
        }
        .product-card:hover .product-img-box img { transform: scale(1.15) rotate(-2deg); }

        /* Tags */
        .category-tag {
            font-size: 0.65rem; font-weight: 800; padding: 6px 12px;
            border-radius: 8px; text-transform: uppercase; letter-spacing: 0.08em;
            backdrop-filter: blur(10px);
        }
        .category-console { background: linear-gradient(135deg, rgba(59, 130, 246, 0.9), rgba(37, 99, 235, 0.9)); color: white; }
        .category-games { background: linear-gradient(135deg, rgba(16, 185, 129, 0.9), rgba(5, 150, 105, 0.9)); color: white; }
        .category-acessorios { background: linear-gradient(135deg, rgba(168, 85, 247, 0.9), rgba(139, 92, 246, 0.9)); color: white; }
        .category-hardware { background: linear-gradient(135deg, rgba(239, 68, 68, 0.9), rgba(220, 38, 38, 0.9)); color: white; }

        /* Navigation */
        .nav-link { position: relative; padding: 0.5rem 0; font-weight: 600; transition: color 0.3s; }
        .nav-link::after {
            content: ''; position: absolute; bottom: 0; left: 50%;
            width: 0; height: 3px; background: var(--gradient-gold);
            border-radius: 3px; transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform: translateX(-50%);
        }
        .nav-link:hover::after, .nav-link.active::after { width: 100%; }
        .nav-link:hover, .nav-link.active { color: #FFD700; }
        .nav-hidden { transform: translateY(-100%); }

        /* Hero */
        .hero-section { position: relative; min-height: 100vh; min-height: 100dvh; display: flex; align-items: center; overflow: hidden; }
        @media (min-width: 768px) {
            .hero-section::before {
                content: ''; position: absolute; inset: 0;
                background: url('https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/painelv6.webp') center right / cover no-repeat;
                z-index: 0;
            }
            .hero-section::after {
                content: ''; position: absolute; inset: 0; z-index: 1;
            }
            .light .hero-section::after { background: linear-gradient(135deg, rgba(248,250,252,0.98) 0%, rgba(248,250,252,0.9) 40%, rgba(248,250,252,0.3) 100%); }
            .dark .hero-section::after { background: linear-gradient(135deg, rgba(3,7,18,0.98) 0%, rgba(3,7,18,0.9) 40%, rgba(3,7,18,0.3) 100%); }
        }

        /* Video Facade */
        button.video-facade {
            position: relative; width: 100%; height: 100%; background: #000;
            cursor: pointer; overflow: hidden;
            border: none; padding: 0; display: block; text-align: left; /* Button Reset */
        }
        .video-facade img {
            width: 100%; height: 100%; object-fit: cover; opacity: 0.8;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1); transform: scale(1.05); will-change: transform, opacity;
        }
        .video-facade:hover img { opacity: 0.5; transform: scale(1.1); filter: blur(3px); }
        .play-btn {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 80px; height: 80px; background: var(--gradient-gold);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.5);
        }
        .video-facade:hover .play-btn { transform: translate(-50%, -50%) scale(1.15); box-shadow: 0 0 60px rgba(255, 215, 0, 0.7); }

        /* Modals & Overlays */
        .modal-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.7); backdrop-filter: blur(8px);
            z-index: var(--z-overlay); opacity: 0; pointer-events: none; transition: opacity 0.4s;
        }
        .modal-overlay.open { opacity: 1; pointer-events: auto; }

        .cart-modal {
            position: fixed; top: 0; right: 0; height: 100%; width: 100%; max-width: 440px;
            z-index: var(--z-modal); transform: translateX(100%);
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex; flex-direction: column;
        }
        .cart-modal.open { transform: translateX(0); }

        .modal-base {
            position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            opacity: 0; pointer-events: none;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: var(--z-modal);
        }
        .modal-base.open { opacity: 1; pointer-events: auto; transform: translate(-50%, -50%) scale(1); }

        /* Badges & Toasts */
        .badge {
            position: absolute; top: -6px; right: -6px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white; font-size: 0.65rem; font-weight: 800;
            min-width: 20px; height: 20px; border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            padding: 0 6px; animation: badge-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            border: 2px solid;
        }
        .light .badge { border-color: #ffffff; }
        .dark .badge { border-color: #0f172a; }
        @keyframes badge-pop { 0% { transform: scale(0); } 70% { transform: scale(1.2); } 100% { transform: scale(1); } }

        .toast-container {
            position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
            z-index: var(--z-toast); display: flex; flex-direction: column; gap: 12px;
        }
        .toast {
            padding: 16px 28px; border-radius: 16px; font-weight: 700; font-size: 0.95rem;
            display: flex; align-items: center; gap: 12px;
            animation: toast-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 20px 50px -15px rgba(0,0,0,0.4); backdrop-filter: blur(20px);
        }
        @keyframes toast-in { from { transform: translateY(100px) scale(0.8); opacity: 0; } to { transform: translateY(0) scale(1); opacity: 1; } }
        .toast-success { background: linear-gradient(135deg, rgba(16, 185, 129, 0.95), rgba(5, 150, 105, 0.95)); color: white; }
        .toast-error { background: linear-gradient(135deg, rgba(239, 68, 68, 0.95), rgba(220, 38, 38, 0.95)); color: white; }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed; inset: 0; z-index: var(--z-menu);
            transform: translateX(-100%); transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .mobile-menu.open { transform: translateX(0); }
        .mobile-menu-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(8px);
            z-index: var(--z-overlay); opacity: 0; pointer-events: none; transition: opacity 0.4s;
        }
        .mobile-menu-overlay.open { opacity: 1; pointer-events: auto; }

        /* Misc Components */
        .stat-card { position: relative; overflow: hidden; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .stat-card:hover { transform: translateY(-8px); box-shadow: 0 25px 50px -12px rgba(0,0,0,0.2); }
        .stat-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px;
            background: var(--gradient-gold); transform: scaleX(0); transform-origin: left; transition: transform 0.5s;
        }
        .stat-card:hover::before { transform: scaleX(1); }

        .service-feature { padding: 1rem; border-radius: 16px; border: 1px solid transparent; transition: all 0.4s; }
        .service-feature:hover { transform: translateX(8px); border-color: rgba(255, 215, 0, 0.3); background: rgba(255, 215, 0, 0.05); }

        .review-card { transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .review-card:hover { transform: translateY(-8px) rotate(1deg); box-shadow: 0 25px 50px -12px rgba(255, 215, 0, 0.2); }

        .map-container iframe { width: 100%; height: 100%; filter: grayscale(0.2) contrast(1.1); transition: filter 0.5s; }
        .map-container:hover iframe { filter: grayscale(0) contrast(1); }

        #backToTop {
            opacity: 0; pointer-events: none; transform: translateY(20px) scale(0.8);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        #backToTop.show { opacity: 1; pointer-events: auto; transform: translateY(0) scale(1); }

        details summary::-webkit-details-marker { display: none; }
        details[open] summary { border-bottom-left-radius: 0; border-bottom-right-radius: 0; }

        :focus-visible { outline: 3px solid #FFD700; outline-offset: 3px; }
        
        .chart-box { position: relative; height: 280px; width: 100%; contain: layout; }

        .filter-btn { position: relative; overflow: hidden; transition: all 0.3s; white-space: nowrap; flex-shrink: 0; }
        .filter-btn.active { background: var(--gradient-gold); color: #000; box-shadow: 0 4px 20px rgba(255, 215, 0, 0.4); }

        .noise-overlay::before {
            content: ''; position: absolute; inset: 0; background-image: var(--noise);
            opacity: 0.02; pointer-events: none; z-index: 1;
        }

        /* === ATOMIC CHATBOT 2.0 (Mobile Native Feel) === */
        #atomic-chat-widget { 
            z-index: var(--z-chat-widget); font-family: 'Inter', sans-serif; line-height: 1.5; 
            pointer-events: none;
            position: fixed; inset: 0;
            overflow: hidden; /* Evita scroll na página principal ao arrastar bolha */
        }
        
        .chat-bubble {
            position: absolute; 
            bottom: calc(24px + env(safe-area-inset-bottom)); 
            right: 24px; 
            width: 60px; height: 60px;
            border-radius: 50%; background: #000; border: 2px solid #FFD700;
            box-shadow: 0 8px 25px rgba(0,0,0,0.4); cursor: grab; z-index: calc(var(--z-chat-widget) + 1);
            display: flex; align-items: center; justify-content: center;
            overflow: visible;
            touch-action: none; /* ESSENCIAL PARA DRAG AND DROP */
            
            /* FIX FLUIDITY: Default transition for interactions, but allow JS to override */
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.2s;
            
            pointer-events: auto;
            will-change: transform, left, top;
        }
        /* Class to disable transition during drag */
        .chat-bubble.no-transition { transition: none !important; }
        
        .chat-bubble.snapping { transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1); } /* Snap suave */
        
        .chat-bubble img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; pointer-events: none; }
        
        .chat-bubble-badge {
            position: absolute; top: -5px; right: -5px; width: 22px; height: 22px;
            background: #ef4444; color: white; border-radius: 50%; font-size: 11px;
            font-weight: bold; display: flex; align-items: center; justify-content: center;
            border: 2px solid #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 6px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        .badge-pulse { animation: pulse-red 2s infinite; }

        .chat-window {
            position: absolute; bottom: 100px; right: 24px; width: 380px; height: 600px; max-height: calc(100vh - 120px);
            background: #ffffff; border-radius: 24px; box-shadow: 0 20px 50px -10px rgba(0,0,0,0.3);
            display: flex; flex-direction: column; overflow: hidden; z-index: var(--z-chat-widget);
            transform-origin: bottom right;
            transform: scale(0.9) translateY(20px); opacity: 0; pointer-events: none;
            transition: all 0.35s cubic-bezier(0.19, 1, 0.22, 1); border: 1px solid rgba(0,0,0,0.1);
        }
        .chat-window.open { transform: scale(1) translateY(0); opacity: 1; pointer-events: auto; }
        
        .chat-header {
            background: var(--gradient-gold); padding: 16px 20px;
            display: flex; align-items: center; justify-content: space-between; color: #000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); z-index: 10;
        }
        .chat-header-info { display: flex; align-items: center; gap: 12px; }
        .chat-avatar-small { width: 44px; height: 44px; border-radius: 50%; overflow: hidden; border: 2px solid rgba(255,255,255,0.5); background: #000; }
        .chat-avatar-small img { width: 100%; height: 100%; object-fit: cover; }
        .chat-status { display: flex; flex-direction: column; }
        .chat-status h4 { font-size: 15px; font-weight: 800; margin: 0; line-height: 1.1; }
        .chat-status span { font-size: 11px; font-weight: 600; opacity: 0.7; display: flex; align-items: center; gap: 5px; }
        
        .chat-close-btn {
            background: rgba(255,255,255,0.2); border: none; width: 36px; height: 36px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: background 0.2s;
        }
        .chat-close-btn:hover { background: rgba(255,255,255,0.4); }

        .chat-messages {
            flex: 1; min-height: 0; background: #f0f2f5; padding: 20px;
            overflow-y: auto; overscroll-behavior: contain; display: flex; flex-direction: column; gap: 16px;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .dark .chat-messages { background-color: #0f172a; background-image: none; }
        .dark .chat-window { background: #1e293b; border-color: #334155; }

        .message { display: flex; gap: 8px; max-width: 85%; animation: slideUp 0.3s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .message.bot { align-self: flex-start; }
        .message.user { align-self: flex-end; flex-direction: row-reverse; }
        
        .message-bubble {
            padding: 12px 16px; border-radius: 18px; font-size: 14px;
            line-height: 1.5; position: relative; word-wrap: break-word;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        /* Bot Bubble Style */
        .message.bot .message-bubble { background: #fff; color: #1f2937; border-top-left-radius: 4px; }
        .dark .message.bot .message-bubble { background: #334155; color: #fff; }
        /* User Bubble Style */
        .message.user .message-bubble { background: #000; color: #FFD700; border-top-right-radius: 4px; }
        .dark .message.user .message-bubble { background: #FFD700; color: #000; }

        /* Typing Indicator */
        .typing-indicator { display: flex; gap: 4px; padding: 4px 0; }
        .typing-dot { width: 6px; height: 6px; background: #888; border-radius: 50%; animation: typing 1.4s infinite ease-in-out both; }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }

        .chat-products-scroll { 
            display: flex; gap: 12px; overflow-x: auto; padding: 8px 4px 12px 4px; width: 100%; 
            scrollbar-width: none; scroll-snap-type: x mandatory; 
        }
        .chat-products-scroll::-webkit-scrollbar { display: none; }
        
        .chat-product-card {
            min-width: 150px; max-width: 150px; background: #fff; border-radius: 12px;
            padding: 10px; border: 1px solid #e5e7eb; display: flex; flex-direction: column; align-items: center;
            scroll-snap-align: center; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
        }
        .dark .chat-product-card { background: #1e293b; border-color: #475569; }
        .chat-product-card img { width: 100%; height: 90px; object-fit: contain; margin-bottom: 8px; }
        .chat-product-title { font-size: 11px; font-weight: bold; text-align: center; margin-bottom: 4px; height: 32px; overflow: hidden; line-height: 1.2; color: #000; }
        .dark .chat-product-title { color: #fff; }
        .chat-product-price { font-size: 13px; color: #16a34a; font-weight: 800; margin-bottom: 8px; }
        .chat-add-btn {
            width: 100%; background: #000; color: #FFD700; border: none; font-size: 11px;
            font-weight: bold; padding: 8px; border-radius: 8px; cursor: pointer; transition: transform 0.2s;
        }
        .chat-add-btn:active { transform: scale(0.95); }

        .chat-input-area { padding: 16px; background: #fff; border-top: 1px solid #e5e7eb; display: flex; gap: 10px; align-items: center; }
        .dark .chat-input-area { background: #1e293b; border-color: #334155; }
        .chat-input {
            flex: 1; padding: 12px 16px; border-radius: 24px; border: 1px solid #e2e8f0;
            background: #f8fafc; outline: none; font-size: 15px; color: #000; transition: border-color 0.2s;
        }
        .chat-input:focus { border-color: #FFD700; background: #fff; }
        .dark .chat-input { background: #334155; border-color: #475569; color: #fff; }
        .chat-send-btn {
            width: 46px; height: 46px; border-radius: 50%; background: #000; color: #FFD700;
            border: none; display: flex; align-items: center; justify-content: center;
            cursor: pointer; font-size: 20px; transition: transform 0.2s; flex-shrink: 0;
        }
        .chat-send-btn:active { transform: scale(0.9); }

        /* === MOBILE RESPONSIVE CHAT === */
        @media (max-width: 480px) {
            .chat-window {
                width: 100% !important;
                height: 100% !important;
                height: 100dvh !important;
                max-height: none !important;
                top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important;
                border-radius: 0 !important;
                transform: translateY(100%);
                transform-origin: center bottom;
            }
            .chat-window.open { transform: translateY(0); }
            .chat-messages { padding-bottom: 20px; }
            .chat-bubble { width: 56px; height: 56px; bottom: 20px; right: 20px; }
        }

        /* === RESPONSIVE === */
        @media (max-width: 768px) {
            .hero-section { min-height: auto; padding-top: 0; padding-bottom: 1.5rem; }
            .product-img-box { height: 160px; padding: 16px; }
            .btn-primary, .btn-secondary { padding: 0.875rem 1.5rem; font-size: 0.9rem; min-height: 48px; }
            .filter-btn { padding: 0.625rem 1rem; font-size: 0.75rem; }
            .product-card button[aria-label*="Adicionar"] { width: 44px !important; height: 44px !important; min-width: 44px; }
            .product-card { border-radius: 16px; }
            .product-card .p-4 { padding: 12px !important; }
            .product-card h3 { font-size: 0.8rem; line-height: 1.3; }
            .product-card .text-gradient { font-size: 0.95rem; }
            .cart-modal { max-width: 100%; border-left: none; }
            .toast-container { bottom: 80px; left: 16px; right: 16px; transform: none; }
            .toast { padding: 12px 16px; font-size: 0.85rem; border-radius: 12px; }
            #categoryFilters { overflow-x: auto; flex-wrap: nowrap; -webkit-overflow-scrolling: touch; scrollbar-width: none; -ms-overflow-style: none; padding-bottom: 8px; margin-bottom: 1rem; mask-image: linear-gradient(to right, black 85%, transparent 100%); -webkit-mask-image: linear-gradient(to right, black 85%, transparent 100%); }
            #categoryFilters::-webkit-scrollbar { display: none; }
            section { padding-top: 3rem; padding-bottom: 3rem; }
            .bento-card { border-radius: 20px; }
            #serviceForm input, #serviceForm select, #searchInput { font-size: 16px; }
            .stat-card { padding: 1.25rem !important; }
            .stat-card p.font-black { font-size: 1.75rem !important; }
            .review-card { padding: 1rem; }
            .review-card blockquote { font-size: 0.875rem; }
            .map-container { height: 250px; }
            .bento-card summary, .bento-card .text-muted { padding: 1rem !important; }
            footer { padding-top: 3rem; padding-bottom: 2rem; }
            .mobile-menu { width: 85%; max-width: 320px; }
            /* CORREÇÃO: Botão flutuante na esquerda para não conflitar com chat */
            #backToTop { bottom: 20px; left: 20px; right: auto; width: 48px; height: 48px; }
            .hero-section [role="list"] { gap: 0.75rem; }
            .hero-section [role="listitem"] { font-size: 0.75rem; }
            .hero-section [role="listitem"] .w-8 { width: 28px; height: 28px; }
            .chart-box { height: 220px; }
            .modal-base { width: 95%; max-height: 90vh; }
            .modal-base .grid { grid-template-columns: 1fr; }
            .modal-base figure { min-height: 200px; }
            #modalProductName { font-size: 1.5rem; }
            #modalProductPrice { font-size: 1.75rem; }
        }
        
        @media (max-width: 480px) {
            .product-img-box { height: 140px; }
            .product-card h3 { font-size: 0.75rem; }
            .product-card .text-gradient { font-size: 0.85rem; }
            .filter-btn { padding: 0.5rem 0.75rem; font-size: 0.7rem; }
            h1 { font-size: 1.75rem !important; }
            h2 { font-size: 1.5rem !important; }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            .product-img-box { height: 200px; }
            .hero-section { min-height: 80vh; }
        }
        
        @supports (padding-bottom: env(safe-area-inset-bottom)) {
            .cart-modal > div:last-child { padding-bottom: calc(1.25rem + env(safe-area-inset-bottom)); }
            .mobile-menu > div { padding-bottom: calc(1.5rem + env(safe-area-inset-bottom)); }
            #backToTop { bottom: calc(20px + env(safe-area-inset-bottom)); }
            .toast-container { bottom: calc(80px + env(safe-area-inset-bottom)); }
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important;
            }
        }
    </style>
<link rel="stylesheet" href="/index.css">
</head>
<body class="antialiased bg-base text-base transition-colors duration-500" id="top">
    
    <!-- Mesh Gradient Background -->
    <div class="mesh-gradient" aria-hidden="true"></div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer" role="alert" aria-live="polite"></div>

    <!-- Back To Top (MOVIDO PARA A ESQUERDA) -->
    <button id="backToTop" class="fixed bottom-6 left-6 w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-500 text-black flex items-center justify-center shadow-2xl hover:scale-110 transition-transform glow-gold z-[var(--z-toast)]" aria-label="Voltar ao topo da página">
        <i class="ph-bold ph-arrow-up text-xl"></i>
    </button>

    <!-- ============================================
         ATOMIC CHAT WIDGET 2.0
         ============================================ -->
    <div id="atomic-chat-widget">
        <!-- Floating Bubble -->
        <div id="chatBubble" class="chat-bubble" role="button" aria-label="Abrir Chat" tabindex="0">
            <img src="https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/thchatbot.jpg" alt="Chat" draggable="false">
            <div id="chatBadge" class="chat-bubble-badge badge-pulse">1</div>
        </div>
        
        <!-- Main Chat Window -->
        <div id="chatWindow" class="chat-window">
            <header class="chat-header">
                <div class="chat-header-info">
                    <div class="chat-avatar-small"><img src="https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/thchatbot.jpg" alt="Thiago"></div>
                    <div class="chat-status"><h4>Thiago - Atomic</h4><span><span style="width:8px;height:8px;background:#22c55e;border-radius:50%;display:inline-block;"></span> Online Agora</span></div>
                </div>
                <button id="closeChatBtn" class="chat-close-btn" aria-label="Fechar Chat"><i class="ph-bold ph-x text-lg"></i></button>
            </header>
            
            <div id="chatMessages" class="chat-messages">
                <!-- Messages Injected Here -->
            </div>
            
            <footer class="chat-input-area">
                <input type="text" id="chatInput" class="chat-input" placeholder="Digite sua dúvida..." autocomplete="off">
                <button id="sendBtn" class="chat-send-btn" aria-label="Enviar"><i class="ph-fill ph-paper-plane-right"></i></button>
            </footer>
        </div>
    </div>

    <!-- Product Detail Modal -->
    <div id="productDetailOverlay" class="modal-overlay" aria-hidden="true"></div>
    <article id="productDetailModal" class="modal-base w-11/12 max-w-4xl bg-card-solid rounded-3xl shadow-2xl border border-base overflow-hidden" role="dialog" aria-labelledby="modalProductName" aria-modal="true">
        <div class="p-5 border-b border-base flex justify-between items-center bg-gradient-to-r from-yellow-400/10 to-orange-400/10">
            <span class="text-sm font-bold text-muted uppercase tracking-wider">Detalhes do Produto</span>
            <button id="closeDetailBtn" class="p-3 hover:bg-base rounded-xl transition" aria-label="Fechar detalhes do produto"><i class="ph-bold ph-x text-xl"></i></button>
        </div>
        <div class="p-6 md:p-8 grid md:grid-cols-2 gap-6 md:gap-8 max-h-[80vh] overflow-y-auto">
            <figure class="relative bg-base rounded-2xl p-6 flex items-center justify-center min-h-64">
                <img id="modalProductImage" src="" alt="" class="max-h-80 w-auto object-contain drop-shadow-2xl">
                <span id="modalProductCategory" class="category-tag absolute top-4 left-4"></span>
            </figure>
            <div class="space-y-6">
                <h2 id="modalProductName" class="text-3xl font-bold text-base">Nome do Produto</h2>
                <p id="modalProductDescription" class="text-muted text-lg leading-relaxed">Descrição detalhada do produto.</p>
                <div class="flex items-center justify-between pt-4 border-t border-base">
                    <span id="modalProductPrice" class="font-bold text-4xl text-gradient">R$ 0,00</span>
                    <button id="modalAddToCartBtn" class="flex items-center gap-2 btn-primary text-base px-6 py-3"><i class="ph-bold ph-plus text-xl"></i> Adicionar</button>
                </div>
                <a id="modalWhatsappBtn" href="#" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center gap-3 w-full py-4 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-green-500/30 transition-all hover:-translate-y-1"><i class="ph-bold ph-whatsapp-logo text-2xl"></i> Negociar no WhatsApp</a>
            </div>
        </div>
    </article>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay" aria-hidden="true"></div>
    
    <!-- Mobile Menu -->
    <nav class="mobile-menu bg-card-solid" id="mobileMenu" aria-label="Menu de navegação móvel">
        <div class="h-full flex flex-col p-6">
            <div class="flex justify-between items-center mb-8">
                <div class="flex items-center gap-3">
                    <img src="https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/atomiclogo.webp" alt="" class="h-12 w-12 rounded-full shadow-lg bg-black glow-gold">
                    <span class="font-bold text-xl brand-font">ATOMIC</span>
                </div>
                <button id="closeMobileMenuBtn" class="p-3 rounded-xl bg-base hover:bg-card transition" aria-label="Fechar menu"><i class="ph-bold ph-x text-xl"></i></button>
            </div>
            
            <div class="flex-grow space-y-2">
                <a href="#store" class="flex items-center gap-4 p-4 rounded-2xl hover:bg-base transition group">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center shadow-lg"><i class="ph-fill ph-storefront text-2xl text-black"></i></div>
                    <div><span class="font-bold text-lg group-hover:text-yellow-500 transition">Loja Virtual</span><p class="text-xs text-muted">Produtos e ofertas</p></div>
                </a>
                <a href="#services" class="flex items-center gap-4 p-4 rounded-2xl hover:bg-base transition group">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center shadow-lg"><i class="ph-fill ph-wrench text-2xl text-white"></i></div>
                    <div><span class="font-bold text-lg group-hover:text-yellow-500 transition">Assistência</span><p class="text-xs text-muted">Reparos especializados</p></div>
                </a>
                <a href="#dashboard" class="flex items-center gap-4 p-4 rounded-2xl hover:bg-base transition group">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center shadow-lg"><i class="ph-fill ph-star text-2xl text-white"></i></div>
                    <div><span class="font-bold text-lg group-hover:text-yellow-500 transition">Depoimentos</span><p class="text-xs text-muted">O que falam da gente</p></div>
                </a>
                <a href="#location" class="flex items-center gap-4 p-4 rounded-2xl hover:bg-base transition group">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center shadow-lg"><i class="ph-fill ph-map-pin text-2xl text-white"></i></div>
                    <div><span class="font-bold text-lg group-hover:text-yellow-500 transition">Localização</span><p class="text-xs text-muted">Visite nosso QG</p></div>
                </a>
            </div>
            
            <div class="mt-auto space-y-4">
                <a href="https://wa.me/5521995969378" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center gap-3 w-full py-4 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl font-bold shadow-lg hover:shadow-green-500/30 transition"><i class="ph-bold ph-whatsapp-logo text-2xl"></i> Fale Conosco</a>
                <div class="flex justify-center gap-4 pt-4">
                    <a href="https://www.instagram.com/atomicgames.rj/" target="_blank" rel="noopener noreferrer" class="p-3 rounded-full bg-base hover:text-pink-500 transition"><i class="ph-fill ph-instagram-logo text-xl"></i></a>
                    <a href="https://www.facebook.com/AtomicGamesRj?locale=pt_BR" target="_blank" rel="noopener noreferrer" class="p-3 rounded-full bg-base hover:text-blue-500 transition"><i class="ph-fill ph-facebook-logo text-xl"></i></a>
                    <a href="https://www.tiktok.com/@atomic.games.bras" target="_blank" rel="noopener noreferrer" class="p-3 rounded-full bg-base hover:text-black dark:hover:text-white transition"><i class="ph-fill ph-tiktok-logo text-xl"></i></a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Cart Overlay -->
    <div class="modal-overlay" id="cartOverlay" aria-hidden="true"></div>
    <aside class="cart-modal bg-card-solid border-l border-base shadow-2xl" id="cartModal" role="dialog" aria-labelledby="cartTitle" aria-modal="true">
        <div class="p-5 border-b border-base flex justify-between items-center bg-gradient-to-r from-yellow-400/10 to-orange-400/10">
            <h2 id="cartTitle" class="font-bold text-xl flex items-center gap-3">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center glow-gold"><i class="ph-fill ph-shopping-cart text-black"></i></div>
                Seu Carrinho
            </h2>
            <button id="closeCartBtn" class="p-3 hover:bg-base rounded-xl transition" aria-label="Fechar carrinho"><i class="ph-bold ph-x text-xl"></i></button>
        </div>
        <div class="flex-grow overflow-y-auto p-5 space-y-4" id="cartItemsContainer"></div>
        <div class="p-5 border-t border-base bg-base">
            <div class="flex justify-between items-center mb-4"><span class="text-muted font-medium">Subtotal</span><span id="cartTotal" class="font-bold text-2xl text-gradient">R$ 0,00</span></div>
            <button class="w-full py-4 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-green-500/30 transition-all transform active:scale-98 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed" id="checkoutBtn" disabled><i class="ph-bold ph-whatsapp-logo text-xl"></i> Finalizar no WhatsApp</button>
            <p class="text-center text-xs text-muted mt-3">Pagamento e entrega combinados no chat</p>
        </div>
    </aside>

    <!-- Navbar -->
    <header class="sticky top-0 z-[var(--z-nav)] glass border-b border-base shadow-sm transition-all duration-300" id="navbar">
        <nav class="container mx-auto px-4 lg:px-8 h-20 flex justify-between items-center" aria-label="Navegação principal">
            <div class="flex items-center gap-4">
                <button id="mobileMenuOpenBtn" class="md:hidden p-2 rounded-xl hover:bg-base transition" aria-label="Abrir menu de navegação" aria-expanded="false" aria-controls="mobileMenu"><i class="ph-bold ph-list text-2xl"></i></button>
                <a href="#top" class="flex items-center gap-3 hover:opacity-90 transition transform hover:scale-105 duration-300" aria-label="Atomic Games - Página inicial">
                    <img src="https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/atomiclogo.webp" alt="Logo Atomic Games" class="h-11 w-11 rounded-full shadow-lg bg-black ring-2 ring-yellow-400/50 glow-gold">
                    <img src="https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/Atomic%20frase.webp" alt="Atomic Games" class="h-7 w-auto hidden sm:block">
                </a>
            </div>
            <div class="hidden md:flex gap-8 font-semibold text-sm uppercase tracking-wide text-muted">
                <a href="#store" class="nav-link active">Loja Virtual</a>
                <a href="#services" class="nav-link">Assistência</a>
                <a href="#dashboard" class="nav-link">Depoimentos</a>
                <a href="#location" class="nav-link">Localização</a>
            </div>
            <div class="flex items-center gap-3">
                <button id="themeToggle" class="p-3 rounded-xl hover:bg-base transition" aria-label="Alternar entre tema claro e escuro">
                    <i class="ph ph-sun text-2xl hidden dark:block text-yellow-400"></i>
                    <i class="ph ph-moon text-2xl block dark:hidden text-slate-700"></i>
                </button>
                <button id="openCartBtn" class="relative p-3 rounded-xl hover:bg-base transition group" aria-label="Abrir carrinho de compras">
                    <i class="ph-bold ph-shopping-cart text-2xl group-hover:text-yellow-500 transition"></i>
                    <span id="cartCount" class="badge hidden" aria-live="polite">0</span>
                </button>
                <a href="https://wa.me/5521995969378" target="_blank" rel="noopener noreferrer" class="hidden lg:flex items-center gap-2 btn-primary text-sm"><i class="ph-bold ph-whatsapp-logo text-lg"></i><span>Fale Conosco</span></a>
            </div>
        </nav>
    </header>

    <main id="main-content">
        <!-- Hero Section -->
        <section class="hero-section" aria-labelledby="hero-title">
            <div class="container mx-auto px-4 lg:px-8 relative z-10 flex flex-col md:flex-row items-center justify-center py-12 md:py-0 gap-10 md:gap-16">
                <div class="md:w-1/2 space-y-7 flex flex-col items-center md:items-start text-center md:text-left reveal">
                    <div class="block md:hidden w-[calc(100%+2rem)] -mx-4 -mt-4 mb-4 overflow-hidden rounded-b-3xl shadow-2xl relative h-48">
                        <img src="https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/painelv6.webp" alt="Atomic Games Banner" class="w-full h-full object-cover" loading="eager">
                    </div>
                    <div class="inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-yellow-400 to-orange-500 text-black rounded-full text-xs font-extrabold uppercase tracking-wider shadow-lg transform hover:scale-105 transition cursor-default glow-gold">
                        <i class="ph-fill ph-map-pin icon-bounce"></i> Madureira - RJ
                    </div>
                    <h1 id="hero-title" class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black leading-[1.05] text-base">O Quartel General do <span class="text-gradient">Gamer Carioca</span></h1>
                    <p class="text-lg md:text-xl text-muted font-medium max-w-lg leading-relaxed">Console quebrado? PC lento? Ou procurando aquele upgrade? Somos <strong class="text-base">especialistas em assistência técnica</strong> e a loja mais completa da região.</p>
                    <div class="flex flex-col sm:flex-row gap-4 pt-2 w-full md:w-auto">
                        <a href="#store" class="btn-primary pulse-glow flex items-center justify-center gap-3 w-full sm:w-auto"><i class="ph-bold ph-shopping-bag text-lg"></i> Ver Produtos</a>
                        <a href="#services" class="btn-secondary flex items-center justify-center gap-3 w-full sm:w-auto"><i class="ph-bold ph-wrench"></i> Assistência Técnica</a>
                    </div>
                    <div class="flex flex-wrap justify-center md:justify-start gap-6 pt-4" role="list" aria-label="Diferenciais">
                        <div class="flex items-center gap-2 text-sm text-muted" role="listitem"><div class="w-8 h-8 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center"><i class="ph-fill ph-shield-check text-green-500 text-lg"></i></div><span>Garantia Real</span></div>
                        <div class="flex items-center gap-2 text-sm text-muted" role="listitem"><div class="w-8 h-8 rounded-lg bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center"><i class="ph-fill ph-star text-yellow-500 text-lg"></i></div><span>4.9 no Google</span></div>
                        <div class="flex items-center gap-2 text-sm text-muted" role="listitem"><div class="w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center"><i class="ph-fill ph-users text-blue-500 text-lg"></i></div><span>+5000 Clientes</span></div>
                    </div>
                </div>
                <div class="md:w-1/2 w-full flex justify-center reveal" style="transition-delay: 200ms;">
                    <div class="relative w-full max-w-lg aspect-video bg-black rounded-3xl shadow-2xl overflow-hidden border-4 border-white/20 hidden md:block group float glow-gold-intense">
                        <button class="video-facade" id="videoFacade" data-video-id="YCsT_InlNWw" type="button" aria-label="Reproduzir vídeo">
                            <img src="https://img.youtube.com/vi/YCsT_InlNWw/hqdefault.jpg" alt="Thumbnail Vídeo" onerror="this.src='https://placehold.co/800x450/000/FFD700?text=ATOMIC+GAMES'" loading="lazy">
                            <div class="play-btn" aria-hidden="true"><i class="ph-fill ph-play text-3xl text-black ml-1"></i></div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"></div>
                            <div class="absolute bottom-4 left-4 right-4 flex items-center gap-3">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center"><i class="ph-fill ph-youtube-logo text-black text-xl"></i></div>
                                <div class="text-white"><p class="font-bold text-sm">Conheça a Atomic</p><p class="text-xs opacity-80">Assista ao vídeo</p></div>
                            </div>
                        </button>
                        <div id="videoContainer" class="w-full h-full hidden"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Store Section -->
        <section id="store" class="py-24 bg-base scroll-mt-20" aria-labelledby="store-title">
            <div class="container mx-auto px-4 lg:px-8">
                <header class="flex flex-col lg:flex-row justify-between items-start lg:items-end mb-12 gap-6 reveal">
                    <div>
                        <span class="inline-flex items-center gap-2 px-4 py-2 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 rounded-full text-xs font-bold uppercase tracking-wider mb-4"><i class="ph-fill ph-storefront"></i> Nossa Loja</span>
                        <h2 id="store-title" class="text-4xl md:text-5xl font-black mb-3 text-base">Catálogo <span class="text-gradient">Atomic</span></h2>
                        <p class="text-muted text-lg max-w-md">Adicione itens ao carrinho e finalize pelo WhatsApp. Preços imbatíveis!</p>
                    </div>
                    <div class="flex flex-col sm:flex-row gap-4 w-full lg:w-auto">
                        <div class="relative group w-full sm:w-72">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"><i class="ph-bold ph-magnifying-glass text-muted group-focus-within:text-yellow-500 transition"></i></div>
                            <label for="searchInput" class="sr-only">Buscar produto</label>
                            <input type="search" id="searchInput" placeholder="Buscar produto..." class="w-full bg-card text-base border-2 border-base rounded-2xl py-3.5 pl-12 pr-4 focus:outline-none focus:border-yellow-500 transition-all duration-300 text-sm font-medium shadow-sm hover:border-yellow-500/50">
                        </div>
                    </div>
                </header>
                <div class="flex overflow-x-auto pb-4 md:pb-0 mb-12 gap-3 snap-x hide-scrollbar reveal" id="categoryFilters" role="group" aria-label="Filtros">
                    <button class="filter-btn active px-6 py-3 rounded-2xl text-sm font-bold transition-all duration-300 snap-center" data-category="all" aria-pressed="true"><i class="ph-fill ph-lightning mr-2"></i> Destaques</button>
                    <button class="filter-btn px-6 py-3 rounded-2xl text-sm font-bold border-2 border-base bg-card text-muted hover:border-blue-400 hover:text-blue-600 transition-all snap-center" data-category="console" aria-pressed="false"><i class="ph-bold ph-game-controller mr-2"></i> Consoles</button>
                    <button class="filter-btn px-6 py-3 rounded-2xl text-sm font-bold border-2 border-base bg-card text-muted hover:border-green-400 hover:text-green-600 transition-all snap-center" data-category="games" aria-pressed="false"><i class="ph-bold ph-disc mr-2"></i> Jogos</button>
                    <button class="filter-btn px-6 py-3 rounded-2xl text-sm font-bold border-2 border-base bg-card text-muted hover:border-purple-400 hover:text-purple-600 transition-all snap-center" data-category="acessorios" aria-pressed="false"><i class="ph-bold ph-headphones mr-2"></i> Acessórios</button>
                    <button class="filter-btn px-6 py-3 rounded-2xl text-sm font-bold border-2 border-base bg-card text-muted hover:border-red-400 hover:text-red-600 transition-all snap-center" data-category="hardware" aria-pressed="false"><i class="ph-bold ph-cpu mr-2"></i> Hardware</button>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-5 md:gap-6 reveal" id="productGrid" role="list" aria-live="polite">
                    <div class="col-span-full py-16 text-center text-muted">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-card flex items-center justify-center animate-pulse"><i class="ph-duotone ph-spinner text-3xl"></i></div>
                        <p>Carregando catálogo...</p>
                    </div>
                </div>
                <div id="loadMoreContainer" class="hidden text-center mt-14 reveal">
                    <button id="btnLoadMore" class="group px-10 py-4 border-2 border-base bg-card text-base rounded-2xl font-bold hover:border-yellow-500 hover:text-yellow-600 transition-all shadow-sm hover:shadow-lg">Ver Todos os Produtos <i class="ph-bold ph-caret-down ml-2 group-hover:translate-y-1 transition-transform inline-block"></i></button>
                </div>
                <div id="noResults" class="hidden text-center py-20">
                    <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-card flex items-center justify-center"><i class="ph-duotone ph-magnifying-glass text-5xl text-muted"></i></div>
                    <h3 class="text-2xl font-bold mb-2">Nenhum produto encontrado</h3><p class="text-muted">Tente buscar por outro termo</p>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="py-24 bg-card scroll-mt-20" aria-labelledby="services-title">
            <div class="container mx-auto px-4 lg:px-8 grid lg:grid-cols-2 gap-16 items-center">
                <div class="reveal">
                    <span class="inline-flex items-center gap-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs font-bold uppercase tracking-wider mb-4"><i class="ph-fill ph-wrench"></i> Assistência Técnica</span>
                    <h2 id="services-title" class="text-3xl md:text-4xl lg:text-5xl font-black mb-10">Assistência Técnica de <span class="text-gradient">Elite</span></h2>
                    <div class="space-y-4">
                        <div class="service-feature flex gap-5">
                            <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-400 to-blue-600 text-white flex items-center justify-center text-2xl shadow-lg flex-shrink-0"><i class="ph-fill ph-clock-countdown"></i></div>
                            <div><h3 class="font-bold text-xl mb-1">Orçamento Rápido</h3><p class="text-muted text-lg">Diagnóstico ágil para você não ficar sem jogar.</p></div>
                        </div>
                        <div class="service-feature flex gap-5">
                            <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-green-400 to-green-600 text-white flex items-center justify-center text-2xl shadow-lg flex-shrink-0"><i class="ph-fill ph-circuitry"></i></div>
                            <div><h3 class="font-bold text-xl mb-1">Laboratório Próprio</h3><p class="text-muted text-lg">Peças originais e ferramentas de precisão.</p></div>
                        </div>
                        <div class="service-feature flex gap-5">
                            <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-500 text-black flex items-center justify-center text-2xl shadow-lg flex-shrink-0"><i class="ph-fill ph-shield-check"></i></div>
                            <div><h3 class="font-bold text-xl mb-1">Garantia Real</h3><p class="text-muted text-lg">3 meses de garantia em todos os serviços.</p></div>
                        </div>
                    </div>
                </div>
                <div class="bento-card p-8 md:p-10 relative overflow-hidden reveal noise-overlay">
                    <div class="absolute top-0 right-0 w-40 h-40 bg-yellow-500/20 rounded-full blur-3xl animate-pulse" aria-hidden="true"></div>
                    <div class="flex items-center gap-4 mb-8 relative z-10">
                        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center glow-gold"><i class="ph-fill ph-wrench text-2xl text-black"></i></div>
                        <div><h3 class="text-2xl font-bold">Simular Reparo</h3><p class="text-sm text-muted">Preencha e receba um orçamento</p></div>
                    </div>
                    <form id="serviceForm" class="space-y-5 relative z-10">
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div><label for="clientName" class="block text-sm font-semibold mb-2 text-muted">Seu Nome</label><input type="text" id="clientName" name="clientName" placeholder="João Silva" required autocomplete="name" class="w-full p-4 rounded-2xl bg-base border-2 border-base focus:border-yellow-500 outline-none text-base transition"></div>
                            <div><label for="clientPhone" class="block text-sm font-semibold mb-2 text-muted">WhatsApp</label><input type="tel" id="clientPhone" name="clientPhone" placeholder="(21) 99999-9999" required autocomplete="tel" class="w-full p-4 rounded-2xl bg-base border-2 border-base focus:border-yellow-500 outline-none text-base transition"></div>
                        </div>
                        <div><label for="deviceSelect" class="block text-sm font-semibold mb-2 text-muted">Aparelho</label><select id="deviceSelect" name="device" required class="w-full p-4 rounded-2xl bg-base border-2 border-base focus:border-yellow-500 outline-none text-base transition cursor-pointer"><option value="">Selecione o aparelho...</option><option value="PS5">PlayStation 5</option><option value="PS4">PlayStation 4</option><option value="Xbox Series">Xbox Series S/X</option><option value="Nintendo Switch">Nintendo Switch</option><option value="PC">Computador / Notebook</option></select></div>
                        <div><label for="issueSelect" class="block text-sm font-semibold mb-2 text-muted">Qual o defeito?</label><select id="issueSelect" name="issue" required class="w-full p-4 rounded-2xl bg-base border-2 border-base focus:border-yellow-500 outline-none text-base transition cursor-pointer"><option value="">Selecione o problema...</option><option value="Limpeza">Limpeza / Aquecimento</option><option value="Nao Liga">Não Liga</option><option value="Sem Imagem">Sem Imagem (HDMI)</option><option value="Controle">Drift no Controle</option><option value="Outro">Outro Defeito</option></select></div>
                        <div id="serviceResult" class="hidden p-5 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-2xl border border-yellow-500/30" role="status" aria-live="polite">
                            <div class="flex items-center gap-3"><i class="ph-fill ph-clock text-2xl text-yellow-600"></i><div><p class="text-sm text-muted">Tempo estimado de reparo</p><p class="font-bold text-lg text-yellow-600 dark:text-yellow-400" id="timeEstimate">--</p></div></div>
                        </div>
                        <button type="submit" class="w-full py-4 btn-primary flex items-center justify-center gap-3 text-lg"><i class="ph-bold ph-whatsapp-logo text-xl"></i> Agendar via WhatsApp</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard" class="py-24 bg-base scroll-mt-20" aria-labelledby="dashboard-title">
            <div class="container mx-auto px-4 lg:px-8">
                <header class="text-center max-w-3xl mx-auto mb-16 reveal">
                    <span class="inline-flex items-center gap-2 px-4 py-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-bold uppercase tracking-wider mb-4"><i class="ph-fill ph-chart-line-up"></i> Nossa Reputação</span>
                    <h2 id="dashboard-title" class="text-3xl md:text-4xl lg:text-5xl font-black mb-4">Aprovado pelos <span class="text-gradient">Gamers</span></h2>
                    <p class="text-muted text-lg">Transparência total: veja nossos números e o que dizem nossos clientes.</p>
                </header>
                <div class="grid md:grid-cols-2 gap-8 mb-16 reveal">
                    <div class="bento-card p-6 md:p-8">
                        <h3 class="font-bold text-lg mb-6 flex items-center gap-3 text-base"><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center"><i class="ph-fill ph-star text-black text-xl"></i></div> Pontos Fortes (Média)</h3>
                        <div class="chart-box" role="img" aria-label="Gráfico de radar"><canvas id="reputationChart"></canvas></div>
                    </div>
                    <div class="bento-card p-6 md:p-8">
                        <h3 class="font-bold text-lg mb-6 flex items-center gap-3 text-base"><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center"><i class="ph-fill ph-chart-pie-slice text-white text-xl"></i></div> Distribuição de Serviços</h3>
                        <div class="chart-box" role="img" aria-label="Gráfico de pizza"><canvas id="servicesChart"></canvas></div>
                    </div>
                </div>
                <article id="reviews" class="bento-card p-8 md:p-12 relative overflow-hidden reveal noise-overlay" aria-labelledby="reviews-title">
                    <div class="absolute top-4 right-4 opacity-5" aria-hidden="true"><i class="ph-fill ph-google-logo text-[150px]"></i></div>
                    <header class="flex flex-col md:flex-row justify-between items-start md:items-end mb-12 relative z-10 gap-6">
                        <div>
                            <div class="flex items-center gap-3 mb-3">
                                <div class="flex gap-1" role="img" aria-label="5 estrelas"><i class="ph-fill ph-star text-yellow-400 text-2xl"></i><i class="ph-fill ph-star text-yellow-400 text-2xl"></i><i class="ph-fill ph-star text-yellow-400 text-2xl"></i><i class="ph-fill ph-star text-yellow-400 text-2xl"></i><i class="ph-fill ph-star text-yellow-400 text-2xl"></i></div>
                                <span class="font-black text-3xl">4.9</span><span class="text-muted text-lg">/ 5.0</span>
                            </div>
                            <h3 id="reviews-title" class="text-2xl md:text-3xl font-bold">O que falam da Atomic?</h3>
                        </div>
                        <a href="https://maps.app.goo.gl/9FpRW2ztsrE3j9Rz9" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 px-6 py-3 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-xl font-bold text-sm hover:bg-blue-100 dark:hover:bg-blue-900/30 transition"><i class="ph-fill ph-google-logo"></i> Ver no Google <i class="ph-bold ph-arrow-square-out"></i></a>
                    </header>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 relative z-10">
                        <article class="review-card bg-base p-6 rounded-2xl border border-base">
                            <div class="flex items-center gap-3 mb-4"><div class="w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-red-500 text-white flex items-center justify-center font-bold text-lg">R</div><div class="flex-grow"><p class="font-bold">Rafael Costa</p><time class="text-xs text-muted">Há 2 semanas</time></div><i class="ph-fill ph-google-logo text-gray-300 text-xl"></i></div>
                            <div class="flex gap-0.5 mb-4"><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i></div>
                            <blockquote class="text-muted leading-relaxed">"Levei meu PS5 que estava desligando sozinho. Fizeram a limpeza e troca da pasta térmica no mesmo dia. Atendimento nota 10!"</blockquote>
                        </article>
                        <article class="review-card bg-base p-6 rounded-2xl border border-base">
                            <div class="flex items-center gap-3 mb-4"><div class="w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-indigo-500 text-white flex items-center justify-center font-bold text-lg">F</div><div class="flex-grow"><p class="font-bold">Felipe Martins</p><time class="text-xs text-muted">Há 1 mês</time></div><i class="ph-fill ph-google-logo text-gray-300 text-xl"></i></div>
                            <div class="flex gap-0.5 mb-4"><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i></div>
                            <blockquote class="text-muted leading-relaxed">"Melhor preço do Rio pra comprar console. Comprei meu Xbox Series S lá, lacrado com garantia. Recomendo demais."</blockquote>
                        </article>
                        <article class="review-card bg-base p-6 rounded-2xl border border-base">
                            <div class="flex items-center gap-3 mb-4"><div class="w-12 h-12 rounded-full bg-gradient-to-br from-green-400 to-emerald-500 text-white flex items-center justify-center font-bold text-lg">J</div><div class="flex-grow"><p class="font-bold">Juliana Alves</p><time class="text-xs text-muted">Há 3 dias</time></div><i class="ph-fill ph-google-logo text-gray-300 text-xl"></i></div>
                            <div class="flex gap-0.5 mb-4"><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i><i class="ph-fill ph-star text-yellow-400"></i></div>
                            <blockquote class="text-muted leading-relaxed">"Minha loja de confiança em Madureira. Já arrumei controle de Switch, comprei jogos e sempre fui bem atendida."</blockquote>
                        </article>
                    </div>
                </article>
            </div>
        </section>

        <!-- Location Section -->
        <section id="location" class="py-24 bg-base scroll-mt-20" aria-labelledby="location-title">
            <div class="container mx-auto px-4 lg:px-8">
                <header class="text-center mb-14 reveal">
                    <span class="inline-flex items-center gap-2 px-4 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-bold uppercase tracking-wider mb-4"><i class="ph-fill ph-map-pin"></i> Visite-nos</span>
                    <h2 id="location-title" class="text-3xl md:text-4xl lg:text-5xl font-black mb-4">Venha Conhecer Nosso <span class="text-gradient">QG</span></h2>
                    <p class="text-muted text-lg">Fácil acesso no coração de Madureira.</p>
                </header>
                <div class="bento-card overflow-hidden shadow-2xl flex flex-col md:flex-row reveal" style="min-height: 480px;">
                    <div class="md:w-2/5 p-8 md:p-12 flex flex-col justify-center space-y-8 relative z-10">
                        <address class="not-italic">
                            <div class="flex items-start gap-4"><div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center flex-shrink-0 glow-gold"><i class="ph-fill ph-map-pin text-xl text-black"></i></div><div><h3 class="font-bold text-xl mb-2">Endereço</h3><p class="text-muted leading-relaxed">Av. Ministro Edgard Romero, 81<br>Loja 3 - Madureira<br>Rio de Janeiro - RJ</p></div></div>
                        </address>
                        <div class="flex items-start gap-4"><div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center flex-shrink-0"><i class="ph-fill ph-clock text-xl text-white"></i></div><div><h3 class="font-bold text-xl mb-2">Horário</h3><p class="text-muted leading-relaxed">Segunda a Sexta: 09h às 19h<br>Sábado: 09h às 14h<br><span class="text-red-500 font-medium">Domingo: Fechado</span></p></div></div>
                        <a href="https://www.google.com/maps/dir/?api=1&destination=Atomic+Games+Assistência+técnica+Madureira" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center gap-3 w-full py-4 bg-gradient-to-r from-gray-900 to-black text-white rounded-2xl font-bold hover:shadow-xl transition-all transform active:scale-98 hover:-translate-y-1"><i class="ph-bold ph-navigation-arrow text-xl"></i> Traçar Rota</a>
                    </div>
                    <div class="md:w-3/5 h-64 md:h-auto bg-gray-200 map-container">
                        <iframe src="https://maps.google.com/maps?q=Atomic%20Games%20Av.%20Ministro%20Edgard%20Romero%2081%20Madureira&t=&z=16&ie=UTF8&iwloc=&output=embed" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Mapa Localização"></iframe>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ -->
        <section id="faq" class="py-24 bg-card" aria-labelledby="faq-title">
            <div class="container mx-auto px-4 lg:px-8 max-w-4xl">
                <header class="text-center mb-14 reveal">
                    <span class="inline-flex items-center gap-2 px-4 py-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 rounded-full text-xs font-bold uppercase tracking-wider mb-4"><i class="ph-fill ph-question"></i> Dúvidas</span>
                    <h2 id="faq-title" class="text-3xl md:text-4xl font-black text-base">Perguntas Frequentes</h2>
                </header>
                <div class="space-y-4 reveal" id="faqContainer" role="list"></div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="bg-gradient-to-b from-base to-card border-t border-base py-16">
        <div class="container mx-auto px-4 lg:px-8">
            <div class="text-center">
                <a href="#top" class="inline-block hover:opacity-90 transition transform hover:scale-110 duration-300 mb-6" aria-label="Voltar ao topo">
                    <img src="https://raw.githubusercontent.com/atomicgamesbrasil/siteoficial/main/img%20site/atomiclogo.webp" class="h-20 w-20 mx-auto rounded-full shadow-2xl bg-black ring-4 ring-yellow-400/30 glow-gold" alt="Logo Atomic Games" loading="lazy">
                </a>
                <p class="font-bold text-2xl mb-2 brand-font">ATOMIC GAMES</p>
                <p class="text-muted mb-8">Madureira - Rio de Janeiro</p>
                <nav class="flex justify-center gap-4 mb-8" aria-label="Redes sociais">
                    <a href="https://www.instagram.com/atomicgames.rj/" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full bg-base flex items-center justify-center text-xl hover:bg-pink-500 hover:text-white transition-all hover:-translate-y-1 hover:shadow-lg"><i class="ph-fill ph-instagram-logo"></i></a>
                    <a href="https://www.facebook.com/AtomicGamesRj?locale=pt_BR" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full bg-base flex items-center justify-center text-xl hover:bg-blue-600 hover:text-white transition-all hover:-translate-y-1 hover:shadow-lg"><i class="ph-fill ph-facebook-logo"></i></a>
                    <a href="https://www.tiktok.com/@atomic.games.bras" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full bg-base flex items-center justify-center text-xl hover:bg-black dark:hover:text-white dark:hover:text-black transition-all hover:-translate-y-1 hover:shadow-lg"><i class="ph-fill ph-tiktok-logo"></i></a>
                    <a href="https://wa.me/5521995969378" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full bg-base flex items-center justify-center text-xl hover:bg-green-500 hover:text-white transition-all hover:-translate-y-1 hover:shadow-lg"><i class="ph-fill ph-whatsapp-logo"></i></a>
                </nav>
                <div class="border-t border-base pt-8"><p class="text-sm text-muted">&copy; <time datetime="2025">2025</time> Atomic Games. Todos os direitos reservados.</p></div>
            </div>
        </div>
    </footer>

    <script>
        const CONFIG = {
            GITHUB_USER: "atomicgamesbrasil",
            GITHUB_REPO: "siteoficial",
            GITHUB_BRANCH: "main",
            CHAT_API: 'https://atomic-thiago-backend.onrender.com/chat'
        };
        const BASE_IMG_URL = `https://raw.githubusercontent.com/${CONFIG.GITHUB_USER}/${CONFIG.GITHUB_REPO}/${CONFIG.GITHUB_BRANCH}/`;

        // Initial Data
        const initialProducts = [
            { id: "1", name: "PlayStation 5 Slim", category: "console", price: "R$ 3.799,00", image: BASE_IMG_URL + "img%20site/console-ps5.webp", desc: "Digital Edition, 1TB SSD. O console mais rápido da Sony." },
            { id: "2", name: "Xbox Series S", category: "console", price: "R$ 2.699,00", image: BASE_IMG_URL + "img%20site/console-xbox-s.webp", desc: "512GB SSD, Compacto e 100% digital." },
            { id: "6", name: "God of War Ragnarok", category: "games", price: "R$ 299,00", image: BASE_IMG_URL + "img%20site/game-gow.webp", desc: "PS5 Mídia Física. Aventura épica." },
            { id: "12", name: "Controle DualSense", category: "acessorios", price: "R$ 449,00", image: BASE_IMG_URL + "img%20site/acessorio-dualsense.webp", desc: "Original Sony. Controle sem fio." },
            { id: "13", name: "Mouse Gamer Red Dragon", category: "acessorios", price: "R$ 149,90", image: "https://placehold.co/400x400/292524/FFD700?text=MOUSE", desc: "Mouse Redragon de alta precisão." }
        ];

        const faqs = [
            { q: "Vocês aceitam consoles usados na troca?", a: "Sim! Avaliamos seu console usado (PS4, Xbox One, Switch) como parte do pagamento." },
            { q: "Qual o prazo de garantia dos serviços?", a: "Todos os nossos serviços de manutenção possuem 90 dias (3 meses) de garantia legal." },
            { q: "Vocês montam PC Gamer?", a: "Com certeza! Temos consultoria especializada para montar o PC ideal para seu orçamento." },
            { q: "Entregam em todo o Rio de Janeiro?", a: "Sim, trabalhamos com entregas expressas. Consulte taxa no WhatsApp." }
        ];

        // State & DOM Elements Cache
        let allProducts = [...initialProducts];
        let cart = [];
        let currentFilter = 'all';
        let debounceTimer;
        let els = {}; // Cached DOM elements

        // Utils
        const formatPrice = p => typeof p === 'number' ? p.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }) : (String(p).includes('R$') ? p : parseFloat(String(p).replace(/\./g, '').replace(',', '.').replace(/[^\d.]/g, '')).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }));
        
        const showToast = (msg, type = 'success') => {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            const icon = document.createElement('i');
            icon.className = `ph-bold ${type === 'success' ? 'ph-check-circle' : 'ph-warning-circle'} text-xl`;
            const text = document.createElement('span');
            text.textContent = msg;
            toast.appendChild(icon);
            toast.appendChild(text);
            els.toastContainer.appendChild(toast);
            setTimeout(() => { toast.style.opacity = '0'; toast.style.transform = 'translateY(20px) scale(0.8)'; setTimeout(() => toast.remove(), 300); }, 3000);
        };
        
        const getCategoryClass = cat => ({ console: 'category-console', games: 'category-games', acessorios: 'category-acessorios', hardware: 'category-hardware' }[cat] || 'category-games');

        // Core Functions
        // IMPORTANT: DO NOT ALTER THIS LOGIC TO PRESERVE GITHUB/PANEL INTEGRATION
        async function loadGamesFromGitHub() {
            try {
                const res = await fetch(`${BASE_IMG_URL}produtos.json?t=${Date.now()}`);
                if (res.ok) {
                    const data = await res.json();
                    if (data.length) allProducts = data.map(p => ({
                        id: (p.id || Date.now() + Math.random()).toString(),
                        name: p.name || "Produto",
                        category: p.category ? (p.category.toLowerCase().includes('console') ? 'console' : p.category.toLowerCase().includes('acess') ? 'acessorios' : p.category.toLowerCase().match(/pc|hardware/) ? 'hardware' : 'games') : 'games',
                        price: formatPrice(p.price),
                        image: (p.image || "").replace('/img/', '/img%20site/') || "https://placehold.co/400x400/e2e8f0/1e293b?text=ATOMIC",
                        desc: p.desc || "Sem descrição."
                    }));
                }
            } catch (e) { console.warn("Using fallback catalog"); }
            renderProducts(currentFilter, els.searchInput.value);
        }

        function renderProducts(filter, term = "", forceAll = false) {
            const lowerTerm = term.toLowerCase();
            const filtered = allProducts.filter(p => 
                (filter === 'all' || (p.category || 'games').toLowerCase().includes(filter)) &&
                (!term || p.name.toLowerCase().includes(lowerTerm) || (p.desc && p.desc.toLowerCase().includes(lowerTerm)))
            );

            const limit = (window.innerWidth < 768) ? 6 : 10;
            const toShow = forceAll || term ? filtered : filtered.slice(0, limit);
            
            els.loadMore.classList.toggle('hidden', forceAll || term || filtered.length <= limit);
            els.noResults.classList.toggle('hidden', filtered.length > 0);
            
            els.productGrid.innerHTML = '';
            
            if (!filtered.length) return;

            const frag = document.createDocumentFragment();
            
            toShow.forEach((p, i) => {
                const card = document.createElement('article');
                card.className = 'product-card bg-card border border-base flex flex-col h-full group';
                card.style.animationDelay = `${i * 50}ms`;
                
                // Image Box
                const imgBox = document.createElement('div');
                imgBox.className = 'product-img-box';
                imgBox.role = 'button';
                imgBox.tabIndex = 0;
                imgBox.addEventListener('click', () => showProductDetail(p.id));
                imgBox.addEventListener('keydown', (e) => (e.key === 'Enter' || e.key === ' ') && showProductDetail(p.id));

                const img = document.createElement('img');
                img.src = p.image;
                img.alt = p.name;
                img.loading = 'lazy';
                // Improves CLS by letting browser know aspect ratio (assuming square-ish for catalog)
                img.width = 400; 
                img.height = 400;
                img.onerror = function() { this.src='https://placehold.co/400x400/e2e8f0/1e293b?text=ATOMIC' };

                const tag = document.createElement('span');
                tag.className = `category-tag ${getCategoryClass(p.category)} absolute top-3 left-3`;
                tag.textContent = p.category;

                imgBox.appendChild(img);
                imgBox.appendChild(tag);

                // Content Box
                const contentBox = document.createElement('div');
                contentBox.className = 'p-4 md:p-5 flex-grow flex flex-col';
                
                const title = document.createElement('h3');
                title.className = 'font-bold text-sm md:text-base mb-1 leading-tight group-hover:text-yellow-500 transition line-clamp-2';
                title.textContent = p.name;

                const desc = document.createElement('p');
                desc.className = 'text-xs text-muted mb-4 flex-grow line-clamp-2';
                desc.textContent = p.desc;

                const footer = document.createElement('div');
                footer.className = 'mt-auto flex items-center justify-between gap-2';
                
                const price = document.createElement('span');
                price.className = 'font-black text-base md:text-lg text-gradient';
                price.textContent = p.price;

                const addBtn = document.createElement('button');
                addBtn.className = 'bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-black w-11 h-11 md:w-12 md:h-12 rounded-xl flex items-center justify-center transition-all shadow-lg hover:scale-105';
                addBtn.ariaLabel = `Adicionar ${p.name} ao carrinho`;
                
                const icon = document.createElement('i');
                icon.className = 'ph-bold ph-plus text-lg';
                addBtn.appendChild(icon);
                
                addBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    addToCart(p.id);
                });

                footer.appendChild(price);
                footer.appendChild(addBtn);

                contentBox.appendChild(title);
                contentBox.appendChild(desc);
                contentBox.appendChild(footer);

                card.appendChild(imgBox);
                card.appendChild(contentBox);
                frag.appendChild(card);
            });
            
            els.productGrid.appendChild(frag);
        }

        function updateCartUI() {
            els.cartCount.textContent = cart.length;
            els.cartCount.classList.toggle('hidden', !cart.length);
            els.checkoutBtn.disabled = !cart.length;
            
            els.cartItems.innerHTML = ''; // Safer clear
            
            if (!cart.length) {
                const empty = document.createElement('div');
                empty.className = 'text-center py-12';
                empty.innerHTML = '<div class="w-20 h-20 mx-auto mb-4 rounded-full bg-base flex items-center justify-center"><i class="ph-duotone ph-shopping-cart-simple text-4xl text-muted"></i></div><p class="text-muted font-medium">Seu carrinho está vazio</p>';
                els.cartItems.appendChild(empty);
                els.cartTotal.textContent = 'R$ 0,00';
                return;
            }

            let total = 0;
            const frag = document.createDocumentFragment();
            cart.forEach((item, idx) => {
                total += parseFloat(item.price.replace('R$', '').replace('.', '').replace(',', '.').trim()) || 0;
                
                const div = document.createElement('div');
                div.className = 'flex gap-4 bg-base p-4 rounded-2xl border border-base';
                
                const img = document.createElement('img');
                img.src = item.image;
                img.className = 'w-16 h-16 object-contain bg-white dark:bg-slate-800 rounded-xl shadow';
                img.onerror = function() { this.src='https://placehold.co/100?text=ATOMIC' };

                const info = document.createElement('div');
                info.className = 'flex-grow min-w-0';
                
                const pName = document.createElement('p'); pName.className = 'font-bold text-sm line-clamp-1'; pName.textContent = item.name;
                const pDesc = document.createElement('p'); pDesc.className = 'text-xs text-muted line-clamp-1'; pDesc.textContent = item.desc;
                const pPrice = document.createElement('p'); pPrice.className = 'text-sm font-bold text-gradient mt-1'; pPrice.textContent = item.price;
                
                info.appendChild(pName);
                info.appendChild(pDesc);
                info.appendChild(pPrice);

                const delBtn = document.createElement('button');
                delBtn.className = 'self-center p-2 text-red-500 hover:bg-red-100 rounded-xl transition';
                const icon = document.createElement('i'); icon.className = 'ph-bold ph-trash text-lg';
                delBtn.appendChild(icon);
                delBtn.ariaLabel = "Remover item";
                delBtn.addEventListener('click', () => removeFromCart(idx));

                div.appendChild(img);
                div.appendChild(info);
                div.appendChild(delBtn);
                frag.appendChild(div);
            });
            
            els.cartItems.appendChild(frag);
            els.cartTotal.textContent = total.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        }

        // Logic Helpers
        function addToCart(id) { 
            const p = allProducts.find(x => x.id == id); 
            if(p){ cart.push(p); updateCartUI(); showToast(`${p.name} adicionado!`); } 
        }
        
        function removeFromCart(idx) { 
            cart.splice(idx, 1); updateCartUI(); showToast('Produto removido', 'error'); 
        }
        
        function toggleCart() { 
            const open = els.cartModal.classList.toggle('open'); 
            els.cartOverlay.classList.toggle('open'); 
            document.body.style.overflow = open ? 'hidden' : ''; 
        }
        
        function toggleMobileMenu() { 
            const open = els.mobileMenu.classList.toggle('open'); 
            els.mobileOverlay.classList.toggle('open'); 
            document.body.style.overflow = open ? 'hidden' : ''; 
        }
        
        function checkoutWhatsApp() {
            if (!cart.length) return showToast('Carrinho vazio!', 'error');
            const msg = "Olá! Gostaria de fechar o pedido:\n\n" + cart.map(i => `• ${i.name} - ${i.price}`).join('\n') + `\n\n*Total: ${els.cartTotal.textContent}*`;
            window.open(`https://wa.me/5521995969378?text=${encodeURIComponent(msg)}`);
        }
        
        function showProductDetail(id) {
            const p = allProducts.find(x => x.id == id);
            if (!p) return;
            document.getElementById('modalProductImage').src = p.image;
            document.getElementById('modalProductName').textContent = p.name;
            document.getElementById('modalProductDescription').textContent = p.desc;
            document.getElementById('modalProductPrice').textContent = p.price;
            document.getElementById('modalProductCategory').className = `category-tag absolute top-4 left-4 ${getCategoryClass(p.category)}`;
            document.getElementById('modalProductCategory').textContent = p.category;
            
            // Clean up old event listener by replacing the button clone
            const oldBtn = document.getElementById('modalAddToCartBtn');
            const newBtn = oldBtn.cloneNode(true);
            oldBtn.parentNode.replaceChild(newBtn, oldBtn);
            
            newBtn.onclick = () => { addToCart(id); closeProductDetail(); };
            
            document.getElementById('modalWhatsappBtn').href = `https://wa.me/5521995969378?text=${encodeURIComponent(`Interesse em: ${p.name}`)}`;
            els.detailModal.classList.add('open'); 
            els.detailOverlay.classList.add('open'); 
            document.body.style.overflow = 'hidden';
        }
        
        function closeProductDetail() { 
            els.detailModal.classList.remove('open'); 
            els.detailOverlay.classList.remove('open'); 
            document.body.style.overflow = ''; 
        }
        
        function loadVideo() { 
            const f = document.getElementById('videoFacade'); 
            const container = document.getElementById('videoContainer');
            // Using createElement for iframe to be safe
            const iframe = document.createElement('iframe');
            iframe.className = "w-full h-full";
            iframe.src = `https://www.youtube.com/embed/${f.dataset.videoId}?autoplay=1&rel=0`;
            iframe.frameBorder = "0";
            iframe.allow = "autoplay; encrypted-media";
            iframe.allowFullscreen = true;
            
            container.innerHTML = '';
            container.appendChild(iframe);
            
            f.style.display = 'none'; 
            container.classList.remove('hidden');
        }

        // Charts
        function initCharts(theme) {
            const dark = theme === 'dark';
            const color = dark ? '#f1f5f9' : '#0f172a';
            const gridColor = dark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)';
            
            if (window.repChart) window.repChart.destroy();
            if (window.servChart) window.servChart.destroy();
            
            const c1 = document.getElementById('reputationChart');
            if (c1) window.repChart = new Chart(c1.getContext('2d'), {
                type: 'radar',
                data: { 
                    labels: ['Atendimento', 'Preço', 'Rapidez', 'Variedade', 'Confiança'], 
                    datasets: [{ 
                        label: 'Nota', 
                        data: [4.8, 4.2, 4.6, 4.4, 4.9], 
                        backgroundColor: 'rgba(255, 215, 0, 0.25)', 
                        borderColor: '#FFD700', 
                        borderWidth: 3,
                        pointBackgroundColor: '#FFD700',
                        pointBorderColor: dark ? '#1e293b' : '#fff',
                        pointBorderWidth: 2,
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#FFD700',
                        pointRadius: 4
                    }] 
                },
                options: { 
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { 
                        r: { 
                            min: 0, 
                            max: 5, 
                            beginAtZero: true,
                            grid: { 
                                color: gridColor,
                                circular: true 
                            }, 
                            angleLines: { color: gridColor },
                            pointLabels: { 
                                color: color,
                                font: { size: 12, weight: '600', family: 'Inter' }
                            },
                            ticks: { 
                                display: false,
                                backdropColor: 'transparent'
                            } 
                        } 
                    }, 
                    plugins: { legend: { display: false } } 
                }
            });

            const c2 = document.getElementById('servicesChart');
            if (c2) window.servChart = new Chart(c2.getContext('2d'), {
                type: 'doughnut',
                data: { labels: ['Manutenção', 'Jogos', 'Consoles', 'Peças'], datasets: [{ data: [40, 20, 25, 15], backgroundColor: ['#FFD700', '#10B981', '#3B82F6', '#8B5CF6'], borderWidth: 0 }] },
                options: { responsive: true, maintainAspectRatio: false, cutout: '70%', plugins: { legend: { position: 'right', labels: { color, usePointStyle: true, padding: 15, font: { family: 'Inter', size: 12 } } } } }
            });
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            // Cache Elements
            els = {
                toastContainer: document.getElementById('toastContainer'),
                cartCount: document.getElementById('cartCount'),
                cartItems: document.getElementById('cartItemsContainer'),
                cartTotal: document.getElementById('cartTotal'),
                checkoutBtn: document.getElementById('checkoutBtn'),
                cartModal: document.getElementById('cartModal'),
                cartOverlay: document.getElementById('cartOverlay'),
                mobileMenu: document.getElementById('mobileMenu'),
                mobileOverlay: document.getElementById('mobileMenuOverlay'),
                productGrid: document.getElementById('productGrid'),
                noResults: document.getElementById('noResults'),
                loadMore: document.getElementById('loadMoreContainer'),
                searchInput: document.getElementById('searchInput'),
                detailModal: document.getElementById('productDetailModal'),
                detailOverlay: document.getElementById('productDetailOverlay')
            };

            const theme = localStorage.getItem('theme') || 'light';
            document.documentElement.className = theme;
            
            // Render Static Content (FAQ)
            const faqContainer = document.getElementById('faqContainer');
            faqContainer.innerHTML = '';
            faqs.forEach((f, i) => {
                const details = document.createElement('details');
                details.className = 'group bento-card overflow-hidden';
                if(i === 0) details.open = true;
                
                const summary = document.createElement('summary');
                summary.className = 'flex justify-between items-center font-medium cursor-pointer list-none p-5 md:p-6 bg-card transition-colors';
                
                const qSpan = document.createElement('span');
                qSpan.className = 'text-base font-bold pr-4';
                qSpan.textContent = f.q;
                
                const iconDiv = document.createElement('div');
                iconDiv.className = 'w-10 h-10 rounded-xl bg-base flex items-center justify-center transition-all flex-shrink-0';
                const icon = document.createElement('i');
                icon.className = 'ph-bold ph-caret-down text-lg transition-transform group-open:rotate-180';
                iconDiv.appendChild(icon);
                
                summary.appendChild(qSpan);
                summary.appendChild(iconDiv);
                
                const ansDiv = document.createElement('div');
                ansDiv.className = 'text-muted p-5 md:p-6 pt-0 leading-relaxed bg-base';
                ansDiv.textContent = f.a;
                
                details.appendChild(summary);
                details.appendChild(ansDiv);
                faqContainer.appendChild(details);
            });
            
            initCharts(theme);
            loadGamesFromGitHub();

            // Intersection Observer
            const observer = new IntersectionObserver(entries => entries.forEach(e => e.isIntersecting && (e.target.classList.add('visible'), observer.unobserve(e.target))), { threshold: 0.1 });
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

            // Event Listeners (Replaced inline onclicks)
            document.getElementById('backToTop')?.addEventListener('click', () => window.scrollTo({top: 0, behavior: 'smooth'}));
            document.getElementById('videoFacade')?.addEventListener('click', loadVideo);
            
            // Product Modal
            document.getElementById('productDetailOverlay')?.addEventListener('click', closeProductDetail);
            document.getElementById('closeDetailBtn')?.addEventListener('click', closeProductDetail);
            
            // Mobile Menu
            document.getElementById('mobileMenuOverlay')?.addEventListener('click', toggleMobileMenu);
            document.getElementById('mobileMenuOpenBtn')?.addEventListener('click', toggleMobileMenu);
            document.getElementById('closeMobileMenuBtn')?.addEventListener('click', toggleMobileMenu);
            // Add listeners to links inside mobile menu to close it on click
            document.querySelectorAll('.mobile-menu a').forEach(link => {
                link.addEventListener('click', toggleMobileMenu);
            });

            // Cart
            document.getElementById('cartOverlay')?.addEventListener('click', toggleCart);
            document.getElementById('openCartBtn')?.addEventListener('click', toggleCart);
            document.getElementById('closeCartBtn')?.addEventListener('click', toggleCart);
            document.getElementById('checkoutBtn')?.addEventListener('click', checkoutWhatsApp);

            // Filters & Search
            document.getElementById('btnLoadMore')?.addEventListener('click', () => renderProducts(currentFilter, els.searchInput.value, true));
            document.querySelectorAll('.filter-btn').forEach(btn => btn.addEventListener('click', e => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                e.currentTarget.classList.add('active');
                currentFilter = e.currentTarget.dataset.category;
                renderProducts(currentFilter, els.searchInput.value);
            }));
            els.searchInput?.addEventListener('input', e => { clearTimeout(debounceTimer); debounceTimer = setTimeout(() => renderProducts(currentFilter, e.target.value), 300); });
            
            // Theme
            document.getElementById('themeToggle')?.addEventListener('click', () => {
                const newTheme = document.documentElement.classList.contains('dark') ? 'light' : 'dark';
                document.documentElement.className = newTheme; localStorage.setItem('theme', newTheme); initCharts(newTheme);
            });

            // Service Form
            document.getElementById('serviceForm')?.addEventListener('submit', e => {
                e.preventDefault();
                const fd = new FormData(e.target);
                const msg = `*SOLICITAÇÃO DE REPARO*\n\n👤 ${fd.get('clientName')}\n📱 ${fd.get('clientPhone')}\n🎮 ${fd.get('device')}\n⚠️ ${fd.get('issue')}`;
                window.open(`https://wa.me/5521995969378?text=${encodeURIComponent(msg)}`);
            });
            
            document.getElementById('serviceForm')?.addEventListener('change', () => {
                if(document.getElementById('deviceSelect').value && document.getElementById('issueSelect').value) {
                    document.getElementById('serviceResult').classList.remove('hidden');
                    document.getElementById('timeEstimate').textContent = document.getElementById('issueSelect').value === 'Limpeza' ? '24 Horas' : '3 a 5 dias úteis';
                }
            });

            // Scroll Handler
            let lastY = 0, ticking = false;
            window.addEventListener('scroll', () => {
                if(!ticking) {
                    window.requestAnimationFrame(() => {
                        const y = window.scrollY;
                        document.getElementById('backToTop').classList.toggle('show', y > 400);
                        document.getElementById('navbar').classList.toggle('nav-hidden', y > lastY && y > 80);
                        lastY = y; ticking = false;
                    });
                    ticking = true;
                }
            }, { passive: true });

            document.addEventListener('keydown', e => {
                if (e.key === 'Escape') {
                    if (els.cartModal.classList.contains('open')) toggleCart();
                    if (els.mobileMenu.classList.contains('open')) toggleMobileMenu();
                    if (els.detailModal.classList.contains('open')) closeProductDetail();
                }
            });
        });

        // === CHATBOT 2.0 (FLUID & MAGNETIC) ===
        (function() {
            const els = { 
                bubble: document.getElementById('chatBubble'), 
                win: document.getElementById('chatWindow'), 
                msgs: document.getElementById('chatMessages'), 
                input: document.getElementById('chatInput'),
                badge: document.getElementById('chatBadge')
            };
            
            let state = { isOpen: false, isDragging: false, startX: 0, startY: 0, initialLeft: 0, initialTop: 0 };
            let sessionId = localStorage.getItem('chat_sess_id');

            // --- UI LOGIC ---
            function updateChatUI(open) {
                state.isOpen = open;
                els.win.classList.toggle('open', open);
                els.badge.style.display = open ? 'none' : 'flex';
                document.body.classList.toggle('chat-open', open);
                
                if (open) {
                    // Open logic
                    els.bubble.style.transform = 'scale(0.8) translateY(20px)';
                    els.bubble.style.opacity = '0';
                    els.bubble.style.pointerEvents = 'none';
                    if(window.innerWidth > 768) setTimeout(() => els.input.focus(), 300);
                    scrollToBottom();
                } else {
                    // Close logic
                    els.bubble.style.transform = 'scale(1)';
                    els.bubble.style.opacity = '1';
                    els.bubble.style.pointerEvents = 'auto';
                }
            }

            // --- HISTORY API LOGIC (ANDROID BACK BUTTON FIX) ---
            function openChat() {
                if(state.isOpen) return;
                history.pushState({chat: true}, '', '#chat'); 
                updateChatUI(true);
            }

            function closeChat() {
                if(!state.isOpen) return;
                // Check if we have history state to go back to, otherwise just close UI
                // For simplicity in single-page feel, we assume if open, user wants to go back.
                // Using history.back() triggers popstate.
                history.back(); 
            }

            // Listen for browser back button
            window.addEventListener('popstate', (e) => {
                if(state.isOpen) {
                    // If chat was open, popstate means we are "closing" it (returning to previous state)
                    updateChatUI(false);
                }
            });

            function scrollToBottom() { els.msgs.scrollTop = els.msgs.scrollHeight; }

            // --- DRAG & MAGNETIC SNAP PHYSICS ---
            if(els.bubble) {
                // Initialize Position logic
                const updatePos = (x, y) => { els.bubble.style.left = `${x}px`; els.bubble.style.top = `${y}px`; };
                
                els.bubble.addEventListener('touchstart', (e) => {
                    const t = e.touches[0];
                    state.startX = t.clientX; state.startY = t.clientY;
                    const rect = els.bubble.getBoundingClientRect();
                    state.initialLeft = rect.left; state.initialTop = rect.top;
                    state.isDragging = false;
                    
                    // Kill transition for 1:1 movement
                    els.bubble.classList.add('no-transition');
                    els.bubble.classList.remove('snapping');
                    
                    els.bubble.style.transform = 'scale(0.95)';
                    // Switch to left/top positioning instantly to prevent jumps
                    els.bubble.style.bottom = 'auto'; els.bubble.style.right = 'auto'; 
                    updatePos(rect.left, rect.top);
                }, { passive: true });

                els.bubble.addEventListener('touchmove', (e) => {
                    const t = e.touches[0];
                    const dx = t.clientX - state.startX;
                    const dy = t.clientY - state.startY;
                    
                    if (Math.sqrt(dx*dx + dy*dy) > 5) state.isDragging = true;
                    if (state.isDragging) {
                        e.preventDefault();
                        updatePos(state.initialLeft + dx, state.initialTop + dy);
                    }
                }, { passive: false });

                els.bubble.addEventListener('touchend', (e) => {
                    // Re-enable transition for the snap animation
                    els.bubble.classList.remove('no-transition');
                    els.bubble.style.transform = 'scale(1)';
                    
                    if (!state.isDragging) {
                        e.preventDefault(); 
                        openChat(); // Use new open handler with History API
                    } else {
                        // Magnetic Snap Logic
                        els.bubble.classList.add('snapping');
                        const rect = els.bubble.getBoundingClientRect();
                        const midX = window.innerWidth / 2;
                        const snapX = (rect.left + rect.width/2) < midX ? 20 : window.innerWidth - rect.width - 20;
                        
                        // Bound Y to screen
                        let snapY = rect.top;
                        if(snapY < 20) snapY = 20;
                        if(snapY > window.innerHeight - 100) snapY = window.innerHeight - 100;

                        updatePos(snapX, snapY);
                    }
                    state.isDragging = false;
                });
                
                // Desktop Click
                els.bubble.addEventListener('click', (e) => { 
                    if(e.detail) {
                        if(state.isOpen) closeChat(); else openChat();
                    } 
                });
                
                document.getElementById('closeChatBtn').onclick = (e) => { 
                    e.stopPropagation(); 
                    closeChat(); 
                };
            }

            // --- MESSAGING LOGIC ---
            function parseText(text) {
                const frag = document.createDocumentFragment();
                text.split('\n').forEach((line, i) => {
                    if(i>0) frag.appendChild(document.createElement('br'));
                    line.split('**').forEach((part, j) => {
                        j%2 ? frag.appendChild(Object.assign(document.createElement('b'),{textContent:part})) 
                            : frag.appendChild(document.createTextNode(part));
                    });
                });
                return frag;
            }

            function addMsg(role, content, prods, link) {
                const div = document.createElement('div'); div.className = `message ${role}`;
                const bubble = document.createElement('div'); bubble.className = 'message-bubble';
                
                if(content) bubble.appendChild(parseText(content));
                
                if(prods?.length) {
                    const scroll = document.createElement('div'); scroll.className = 'chat-products-scroll';
                    prods.forEach(p => {
                        const card = document.createElement('div'); card.className = 'chat-product-card';
                        card.innerHTML = `<img src="${p.image||'https://placehold.co/100'}" loading="lazy">
                                          <div class="chat-product-title">${p.name||p.nome}</div>
                                          <div class="chat-product-price">${p.price||p.preco}</div>`;
                        const btn = document.createElement('button'); btn.className='chat-add-btn'; btn.innerText='VER';
                        btn.onclick = () => window.open(`https://wa.me/5521995969378?text=Interesse em: ${encodeURIComponent(p.name||p.nome)}`);
                        card.appendChild(btn); scroll.appendChild(card);
                    });
                    bubble.appendChild(scroll);
                }

                if(link) {
                   const btn = document.createElement('a'); btn.href=link; btn.target='_blank';
                   btn.className = 'block mt-2 text-center bg-green-500 text-white font-bold py-2 rounded-lg text-xs';
                   btn.innerText = 'NEGOCIAR AGORA'; bubble.appendChild(btn);
                }

                div.appendChild(bubble); els.msgs.appendChild(div); scrollToBottom();
            }

            function addTyping() {
                const div = document.createElement('div'); div.id='typing'; div.className='message bot';
                div.innerHTML = `<div class="message-bubble"><div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div></div>`;
                els.msgs.appendChild(div); scrollToBottom();
            }

            async function send() {
                const txt = els.input.value.trim();
                if(!txt) return;
                els.input.value = ''; addMsg('user', txt); addTyping();
                
                try {
                    const res = await fetch(CONFIG.CHAT_API, { method: 'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify({ message: txt, session_id: sessionId }) });
                    const data = await res.json();
                    document.getElementById('typing').remove();
                    if(data.success) {
                        if(data.session_id) { sessionId = data.session_id; localStorage.setItem('chat_sess_id', sessionId); }
                        addMsg('bot', data.response, data.produtos_sugeridos, data.action_link);
                    } else addMsg('bot', 'Desculpe, tive um erro técnico.');
                } catch { 
                    document.getElementById('typing').remove(); 
                    addMsg('bot', 'Sem conexão com a internet.'); 
                }
            }

            // Init Chat
            document.getElementById('sendBtn').onclick = send;
            els.input.onkeypress = e => e.key==='Enter' && send();
            
            // First Load
            if(els.msgs.children.length === 0) {
               setTimeout(() => addMsg('bot', 'E aí! 👋 Sou o **Thiago**, especialista da Atomic Games.\nPosso te ajudar a montar um PC, escolher um console ou ver acessórios?'), 1000);
            }
        })();
    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
